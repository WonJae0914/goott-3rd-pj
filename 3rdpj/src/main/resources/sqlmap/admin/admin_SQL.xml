<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin">

<select id="noticelist" resultType="com.goott.pj3.admin.dto.NoticeDTO">
	select qna_idx, user_id, category, auth, qna_title, qna_content, q_del_yn, create_date, update_date
	  from qna
	  where category="N" and user_id="admin"
</select>

<insert id="noticeinsert">
	insert into qna(user_id, category, auth, qna_title,qna_content , create_date)
	VALUES (#{user_id}, #{category}, #{auth}, #{qna_title}, #{qna_content}, current_timestamp)
</insert>

<select id="noticedetail" parameterType="int" resultType="com.goott.pj3.admin.dto.NoticeDTO">
	select qna_idx, user_id, category, auth, qna_title, qna_content, q_del_yn, update_date
	  from qna
	 where qna_idx=#{qna_idx}
</select>

<update id="noticeupdate">
	update qna
	   set qna_title=#{qna_title}, qna_content=#{qna_content}, update_date=NOW()
	 where qna_idx=#{qna_idx}
</update>

<delete id="noticedelete">
	update qna 
	   set q_del_yn='Y', update_date=NOW()
	 where qna_idx=#{qna_idx}
</delete>

</mapper>